{% extends "layout.html" %}

{% block content %}
<div class="flex gap-4 px-4">

    <!-- Left Column: Browse Topics (1/3) -->
    {% include "base/topic_section.html" %}

    <!-- Right Column: Rooms (2/3) -->
    <div class=" basis-1/3 p-4 bg-gray-800 rounded shadow space-y-6">

        <!-- Create Room Button -->
         {% if request.user.is_authenticated %}
         <div class="flex justify-between w-full  rounded-md">
            <a href="{% url 'create_room' %}">
                <h2 class="bg-green-600 w-35 h-8 text-center px-4 py-1 text-white rounded-md">Create Room</h2>
            </a>
            <a href="{% url 'my_rooms' %}">
                <h2 class="bg-amber-400 w-35 h-8 text-center px-4 py-1 text-black rounded-md hover:bg-amber-500">
                    My Rooms
                </h2>
            </a>
        </div>
         {% endif %}
        
        <div>
            <h3 class="text-white text-xl font-semibold">
                {% if my_rooms %}
                    My Rooms ({{ count }})
                {% else %}
                    {{ count }} Available Rooms
                {% endif %}
            </h3>
        </div>

        <!-- Room List -->
       {% include "base/feeds_rooms.html" %}

    {% include "base/recent_activity.html" %}
</div>
{% endblock %}
